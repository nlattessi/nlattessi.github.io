webpackJsonp([2,0],[function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.router=void 0;var r=o(12),a=s(r),i=o(84),n=s(i),l=o(83),d=s(l),u=o(75),c=s(u),p=o(76),f=s(p),g=o(78),v=s(g),m=o(77),h=s(m),b=o(81),y=s(b),x=o(79),k=s(x),_=o(80),w=s(_),M=o(2),L=s(M);o(46),a["default"].use(d["default"]),a["default"].use(n["default"]),a["default"].http.options.xhr={withCredentials:!0},a["default"].http.interceptors.push(function(e,t){t(function(e){401===e.status&&L["default"].isLogged()&&(console.log("Error 401"),console.log("Error status :: ",e.body.error.status),console.log("Error message :: ",e.body.error.message),L["default"].logout(),a["default"].router.go("/login"))})}),L["default"].checkAuth();var O=t.router=new n["default"]({linkActiveClass:"active"});O.map({"/login":{component:f["default"]},"/register":{component:v["default"]},"/logout":{component:h["default"]},"/links":{component:y["default"],loggedInOnly:!0},"/create/category":{component:k["default"],loggedInOnly:!0},"/create/link":{component:w["default"],loggedInOnly:!0}}),O.redirect({"*":"/login"}),O.beforeEach(function(e){e.to.loggedInOnly&&!L["default"].isLogged()?e.redirect("/login"):e.next()}),O.start(c["default"],"#app")},,function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a=o(49),i=r(a),n=o(12);s(n);t["default"]={user:{authenticated:!1},token:null,origin:null,login:function(e,t){this.token=e,this.user.authenticated=!0,this.origin=t,localStorage.setItem("linksapp-jwt",this.token)},logout:function(){this.token=null,this.user.authenticated=!1,this.origin=null,localStorage.removeItem("linksapp-jwt")},checkAuth:function(){var e=localStorage.getItem("linksapp-jwt");if(e){var t=i.decode(e);if(t){if(Math.floor(Date.now()/1e3)<t.payload.exp)return void(this.user.authenticated=!0);console.log("jwt expired :: ",new Date(1e3*t.payload.exp))}}this.user.authenticated=!1},isLogged:function(){return this.user.authenticated},getAuthHeader:function(){return{Authorization:"Bearer "+localStorage.getItem("linksapp-jwt")}},init:function(){}}},,,,,,,,,,,function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(12),a=s(r),i=o(2),n=s(i);t["default"]={state:{categories:null},getCategories:function(){var e=this;a["default"].http.get("https://nlattessi-linksapp.herokuapp.com/user/categories",{headers:n["default"].getAuthHeader()}).then(function(t){e.state.categories=t.body.data,console.log(e.state.categories)},function(t){e.state.categories=null})}}},,,,,,,,,function(e,t,o){e.exports=o.p+"static/img/battery.2c3f8a4.gif"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["alerts"],methods:{remove:function(e){this.alerts.$remove(e)}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),a=s(r),i=o(74),n=s(i),l=o(82),d=s(l);t["default"]={components:{Alert:n["default"],TopNav:d["default"]},data:function(){return{user:a["default"].user,alerts:[]}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),a=s(r);t["default"]={props:["alerts"],data:function(){return{formUser:{email:null,password:null},loggingIn:!1}},methods:{login:function(){var e=this;this.loggingIn=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/auth/login",this.formUser).then(function(t){a["default"].login(t.body.token,"local"),e.$dispatch("userLoggedIn"),e.$router.go("/links")},function(t){if(404===t.status||422===t.status)if(422===t.status)for(var o in t.body)t.body.hasOwnProperty(o)&&e.alerts.push({type:"danger",message:t.body[o]});else e.alerts.push({type:"danger",message:"Sorry, this credentials are invalid."});e.loggingIn=!1})}},route:{activate:function(e){a["default"].isLogged()?e.redirect("/links"):e.next()}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),a=s(r);t["default"]={props:["alerts"],methods:{logout:function(){var e=this;this.alerts=[],setTimeout(function(){a["default"].logout(),e.$router.go("/login")},1e3)}},ready:function(){this.logout()}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),a=s(r);t["default"]={props:["alerts"],data:function(){return{formUser:{email:null,password:null,password_confirmation:null},registering:!1}},methods:{register:function(){var e=this;this.registering=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/auth/register",this.formUser).then(function(t){a["default"].login(t.body.token),e.$dispatch("userRegistered"),e.$router.go("/links")},function(t){if(422===t.status)for(var o in t.body)t.body.hasOwnProperty(o)&&e.alerts.push({type:"danger",message:t.body[o]});e.registering=!1})}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),a=s(r);t["default"]={props:["alerts"],data:function(){return{newCategory:{name:null},adding:!1}},methods:{create:function(){var e=this;this.adding=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/user/categories",this.newCategory,{headers:a["default"].getAuthHeader()}).then(function(t){e.$dispatch("addedCategory",t.body),e.alerts.push({type:"success",message:"Category added!"}),e.$router.go("/links")},function(t){if(e.alerts=[],400===t.status||422===t.status)if(422===t.status)for(var o in t.body)t.body.hasOwnProperty(o)&&e.alerts.push({type:"danger",message:t.body[o]});else e.alerts.push({type:"danger",message:"Sorry, an error has been occurred."});e.adding=!1})}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),a=s(r),i=o(13);s(i);t["default"]={props:["alerts"],data:function(){return{newLink:{title:null,url:null,category:null},categories:"",disabled:!1}},methods:{getCategories:function(){var e=this;this.$http.get("https://nlattessi-linksapp.herokuapp.com/user/categories",{headers:a["default"].getAuthHeader()}).then(function(t){e.categories=t.body.data,e.categories.length<1&&(e.disabled=!0,e.alerts.push({type:"danger",message:"Create a category before creating a new link."}))},function(t){e.alerts.push({type:"danger",message:t.body.error.status+": "+t.body.error.message})})},create:function(){var e=this;""!==this.newLink.category?(this.disabled=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/user/links",this.newLink,{headers:a["default"].getAuthHeader()}).then(function(t){e.$dispatch("addedLink",t.body),e.$router.go("/links")},function(t){if(400===t.status||422===t.status)if(422===t.status)for(var o in t.body)t.body.hasOwnProperty(o)&&e.alerts.push({type:"danger",message:t.body[o]});else e.alerts.push({type:"danger",message:"Sorry, an error has been occurred."});e.disabled=!1})):this.alerts.push({type:"danger",message:"A category must be selected."})}},ready:function(){this.alerts=[],this.getCategories()}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),a=s(r),i=o(13),n=s(i);t["default"]={data:function(){return{categories:[],error:"",sharedState:n["default"].state}},methods:{edit:function(e){console.log("edit category :: ",e.name)},getCategories:function(){var e=this;this.$http.get("https://nlattessi-linksapp.herokuapp.com/user/categories?include=links",{headers:a["default"].getAuthHeader()}).then(function(t){e.categories=t.body.data},function(t){e.alerts.push({type:"danger",message:t.body.error.status+": "+t.body.error.message})})}},ready:function(){this.getCategories()}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["user"]}},,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,function(e,t){e.exports=' <div v-for="alert in alerts" transition=fade transition-mode=out-in> <div class="alert alert-{{ alert.type }} alert-dismissible fade in" role=alert> <button type=button class=close data-dismiss=alert aria-label=Close v-on:click=remove(alert)> <span aria-hidden=true>&times;</span> </button> {{ alert.message }} </div> </div> '},function(e,t){e.exports=' <div> <top-nav :user.sync=user></top-nav> <div class=container> <div class=row> <div class="col-md-8 offset-md-2"> <alert :alerts.sync=alerts></alert> </div> </div> <router-view transition=fade transition-mode=out-in :alerts.sync=alerts></router-view> </div> </div> '},function(e,t,o){e.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class="card-title text-md-center">Welcome!</h3> <hr> <div class=text-md-center v-if=loggingIn transition=fade> <img src='+o(22)+' class=img-rounded alt=...> <p class=content>Logging in...</p> </div> <div v-else> <form role=form v-on:submit.prevent=login> <div class=form-group> <label for=email>Email</label> <input type=email class=form-control id=email v-model=formUser.email /> </div> <div class=form-group> <label for=password>Password</label> <input type=password class=form-control id=password v-model=formUser.password /> </div> <button type=submit class="btn btn-info pull-md-right" :disabled=loggingIn>Login</button> </form> </div> </div> <div class="card-footer text-muted"> <p class="card-title text-md-right">Don\'t have an account? <button type=submit class="btn btn-outline-secondary btn-sm" v-link="\'/register\'">Sign up</button></p> </div> </div> </div> '},function(e,t,o){e.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class="card-title text-md-center">Thank you for using Links.app!</h3> <hr> <div class=text-md-center transition=fade> <img src='+o(22)+" class=img-rounded alt=...> <p class=content>Login out...</p> </div> </div> </div> </div> "},function(e,t){e.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class="card-title text-md-center">Register for an account</h3> <hr> <div class=text-md-center v-if=registering transition=fade> <img src=http://s14.postimg.org/boisrfbv1/battery.gif class=img-rounded alt=...> <p class=content>Logging in...</p> </div> <div v-else> <form role=form v-on:submit.prevent=register> <div class=form-group> <label for=email>Email</label> <input type=email class=form-control id=email placeholder=user@email.com v-model=formUser.email /> </div> <div class=row> <div class=col-md-6> <div class=form-group> <label for=password>Password</label> <input type=password class=form-control id=password placeholder=Password v-model=formUser.password /> </div> </div> <div class=col-md-6> <div class=form-group> <label for=password_confirmation>Confirm Password</label> <input type=password class=form-control id=password_confirmation placeholder=Password v-model=formUser.password_confirmation /> </div> </div> </div> <button type=submit class="btn btn-info pull-md-right" :disabled=registering>Register</button> </form> </div> </div> <div class="card-footer text-muted"> <p class="card-title text-md-right">Already have an account? <button type=submit class="btn btn-outline-secondary btn-sm" v-link="\'/login\'">Log in</button></p> </div> </div> </div> '},function(e,t){e.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class=card-title>New Category</h3> <form role=form v-on:submit.prevent=create> <div class=form-group> <label for=name>Name</label> <input type=text class=form-control id=name v-model=newCategory.name /> </div> <button type=submit class="btn btn-primary btn-block" :disabled=adding>Add new category</button> </form> </div> </div> </div> '},function(e,t){e.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class=card-title>New Link</h3> <form role=form v-on:submit.prevent=create> <div class=form-group> <label for=title>Title</label> <input type=text class=form-control id=title v-model=newLink.title :disabled=disabled /> </div> <div class=form-group> <label for=url>Url</label> <input type=text class=form-control id=url v-model=newLink.url :disabled=disabled /> </div> <div class=form-group> <label for=category>Category</label> <select class=form-control v-model=newLink.category :disabled=disabled> <option value="" selected=selected disabled=disabled>Select category...</option> <template v-for="category in categories"> <option value={{category.id}}>{{category.name}}</option> </template> </select> </div> <button type=submit class="btn btn-primary btn-block" :disabled=disabled>Add new link</button> </form> </div> </div> </div> '},function(e,t){e.exports=' <div class=row> <div class=col-md-12> <div class="card card-block" v-for="category in categories"> <h3 class=card-title> {{category.name}} <span class=add-margin-link><button @click=edit(category) type=button class="btn btn-info btn-sm"><i class="fa fa-pencil" aria-hidden=true></i></button></span> </h3> <ul v-if=category.links.data> <li v-for="link in category.links.data"> <a href={{link.url}}>{{ link.title ? link.title : link.url }}</a> </li> </ul> </div> </div> </div> '},function(e,t){e.exports=' <div class=container> <div class="header clearfix"> <nav> <ul class="nav nav-pills pull-xs-right"> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/links\'">Links</a> </li> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/create/category\'">Add Category</a> </li> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/create/link\'">Add Link</a> </li> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/logout\'">Logout</a> </li> </ul> </nav> <h3 class=text-muted>Links.app</h3> </div> </div> '},function(e,t,o){var s,r;s=o(23),r=o(65),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,o){var s,r;o(44),s=o(24),r=o(66),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,o){var s,r;s=o(25),r=o(67),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,o){var s,r;s=o(26),r=o(68),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,o){var s,r;s=o(27),r=o(69),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,o){var s,r;s=o(28),r=o(70),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,o){var s,r;s=o(29),r=o(71),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,o){var s,r;o(45),s=o(30),r=o(72),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,o){var s,r;s=o(31),r=o(73),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},,,function(e,t){}]);
//# sourceMappingURL=app.024627668091fc74266c.js.map