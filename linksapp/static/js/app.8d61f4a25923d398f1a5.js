webpackJsonp([2,0],[function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.router=void 0;var r=o(13),a=s(r),i=o(88),n=s(i),l=o(87),d=s(l),u=o(79),c=s(u),p=o(80),f=s(p),g=o(82),v=s(g),m=o(81),h=s(m),b=o(85),y=s(b),x=o(83),k=s(x),_=o(84),w=s(_),M=o(2),A=s(M),L=o(6),O=s(L);o(48),a["default"].use(d["default"]),a["default"].use(n["default"]),a["default"].http.options.xhr={withCredentials:!0},a["default"].http.interceptors.push(function(t,e){e(function(t){401===t.status&&A["default"].isLogged()&&(console.log("Error 401"),console.log("Error status :: ",t.body.error.status),console.log("Error message :: ",t.body.error.message),A["default"].logout(),P.go("/login"))})}),A["default"].checkAuth();var P=e.router=new n["default"]({linkActiveClass:"active"});P.map({"/login":{component:f["default"]},"/register":{component:v["default"]},"/logout":{component:h["default"]},"/links":{component:y["default"],loggedInOnly:!0},"/create/category":{component:k["default"],loggedInOnly:!0},"/create/link":{component:w["default"],loggedInOnly:!0}}),P.redirect({"*":"/login"}),P.beforeEach(function(t){O["default"].cleanAlerts(),t.to.loggedInOnly&&!A["default"].isLogged()?t.redirect("/login"):t.next()}),P.start(c["default"],"#app")},,function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0});var a=o(51),i=r(a),n=o(13);s(n);e["default"]={user:{authenticated:!1},token:null,origin:null,login:function(t,e){this.token=t,this.user.authenticated=!0,this.origin=e,localStorage.setItem("linksapp-jwt",this.token)},logout:function(){this.token=null,this.user.authenticated=!1,this.origin=null,localStorage.removeItem("linksapp-jwt")},checkAuth:function(){var t=localStorage.getItem("linksapp-jwt");if(t){var e=i.decode(t);if(e){if(Math.floor(Date.now()/1e3)<e.payload.exp)return void(this.user.authenticated=!0);console.log("jwt expired :: ",new Date(1e3*e.payload.exp))}}this.user.authenticated=!1},isLogged:function(){return this.user.authenticated},getAuthHeader:function(){return{Authorization:"Bearer "+localStorage.getItem("linksapp-jwt")}},init:function(){}}},,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={state:{alerts:[]},addAlert:function(t,e,o,s){this.state.alerts.push({type:t,message:e,persist:o||!1,timeout:s||3e3})},removeAlert:function(t){var e=this.state.alerts.indexOf(t);e>-1&&this.state.alerts.splice(e,1)},cleanAlerts:function(){this.state.alerts=this.state.alerts.filter(function(t){return t.persist===!0})}}},,,,,,,,,,,,,,,,function(t,e,o){t.exports=o.p+"static/img/battery.2c3f8a4.gif"},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(13),a=s(r),i=o(2),n=s(i);e["default"]={state:{categories:null},getCategories:function(){var t=this;a["default"].http.get("https://nlattessi-linksapp.herokuapp.com/user/categories",{headers:n["default"].getAuthHeader()}).then(function(e){t.state.categories=e.body.data,console.log(t.state.categories)},function(e){t.state.categories=null})}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["type","message","persist","timeout"],ready:function(){var t=this;this.persist||setTimeout(function(){t.$emit("remove")},this.timeout)}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(6),a=s(r),i=o(77),n=s(i);e["default"]={components:{Alert:n["default"]},props:["messages"],data:function(){return{alertState:a["default"].state}},methods:{removeAlert:function(t){a["default"].removeAlert(t)}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(6),a=(s(r),o(2)),i=s(a),n=o(78),l=s(n),d=o(86),u=s(d);e["default"]={components:{AlertList:l["default"],TopNav:u["default"]},data:function(){return{user:i["default"].user}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r);e["default"]={props:["alerts"],data:function(){return{formUser:{email:null,password:null},loggingIn:!1}},methods:{login:function(){var t=this;this.loggingIn=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/auth/login",this.formUser).then(function(e){a["default"].login(e.body.token,"local"),t.$dispatch("userLoggedIn"),t.$router.go("/links")},function(e){if(404===e.status||422===e.status)if(422===e.status)for(var o in e.body)e.body.hasOwnProperty(o)&&t.alerts.push({type:"danger",message:e.body[o]});else t.alerts.push({type:"danger",message:"Sorry, this credentials are invalid."});t.loggingIn=!1})}},route:{activate:function(t){a["default"].isLogged()?t.redirect("/links"):t.next()}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r);e["default"]={props:["alerts"],methods:{logout:function(){var t=this;this.alerts=[],setTimeout(function(){a["default"].logout(),t.$router.go("/login")},1e3)}},ready:function(){this.logout()}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r);e["default"]={props:["alerts"],data:function(){return{formUser:{email:null,password:null,password_confirmation:null},registering:!1}},methods:{register:function(){var t=this;this.registering=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/auth/register",this.formUser).then(function(e){a["default"].login(e.body.token),t.$dispatch("userRegistered"),t.$router.go("/links")},function(e){if(422===e.status)for(var o in e.body)e.body.hasOwnProperty(o)&&t.alerts.push({type:"danger",message:e.body[o]});t.registering=!1})}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(6),a=s(r),i=o(2),n=s(i);e["default"]={data:function(){return{newCategory:{name:null},adding:!1}},methods:{create:function(){var t=this;this.adding=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/user/categories",this.newCategory,{headers:n["default"].getAuthHeader()}).then(function(e){a["default"].addAlert("success","Category added!",!0),t.newCategory.name=null,t.adding=!1},function(e){if(400===e.status||422===e.status)if(422===e.status)for(var o in e.body)e.body.hasOwnProperty(o)&&a["default"].addAlert("danger",e.body[o]);else a["default"].addAlert("danger","Sorry, an error has been occurred.");t.adding=!1})}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r),i=o(23),n=(s(i),o(6)),l=s(n);e["default"]={data:function(){return{newLink:{title:null,url:null,category:null},categories:"",disabled:!1}},methods:{getCategories:function(){var t=this;this.$http.get("https://nlattessi-linksapp.herokuapp.com/user/categories",{headers:a["default"].getAuthHeader()}).then(function(e){t.categories=e.body.data,t.categories.length<1&&(t.disabled=!0,l["default"].addAlert("danger","Create a category before creating a new link."))},function(t){l["default"].addAlert("danger",t.body.error.status+": "+t.body.error.message)})},create:function(){var t=this;""!==this.newLink.category?(this.disabled=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/user/links",this.newLink,{headers:a["default"].getAuthHeader()}).then(function(e){t.$dispatch("addedLink",e.body),l["default"].addAlert("success","Link added!"),t.newLink.title=null,t.newLink.url=null,t.newLink.category="",t.disabled=!1},function(e){if(400===e.status||422===e.status)if(422===e.status)for(var o in e.body)e.body.hasOwnProperty(o)&&l["default"].addAlert("danger",e.body[o]);else l["default"].addAlert("danger","Sorry, an error has been occurred.");t.disabled=!1})):l["default"].addAlert("danger","A category must be selected.")}},ready:function(){this.getCategories()}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(6),a=s(r),i=o(2),n=s(i);e["default"]={props:["messages"],data:function(){return{categories:[]}},methods:{edit:function(t){console.log("edit category :: ",t.name)},getCategories:function(){var t=this;this.$http.get("https://nlattessi-linksapp.herokuapp.com/user/categories?include=links",{headers:n["default"].getAuthHeader()}).then(function(e){t.categories=e.body.data},function(t){a["default"].addAlert("danger",t.body.error.status+": "+t.body.error.message)})}},ready:function(){this.getCategories()}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["user"]}},,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,function(t,e){t.exports=' <div class="alert alert-{{type}} alert-dismissible fade in" role=alert> <button type=button class=close data-dismiss=alert aria-label=Close @click="$emit(\'remove\')"> <span aria-hidden=true>&times;</span> </button> {{message}} </div> '},function(t,e){t.exports=' <div v-for="alert in alertState.alerts" transition=fade transition-mode=out-in> <alert :type=alert.type :message=alert.message :persist=alert.persist :timeout=alert.timeout @remove=removeAlert(alert)> </alert> </div> '},function(t,e){t.exports=' <div> <top-nav :user.sync=user></top-nav> <div class=container> <div class=row> <div class="col-md-8 offset-md-2"> <alert-list></alert-list> </div> </div> <router-view transition=fade transition-mode=out-in></router-view> </div> </div> '},function(t,e,o){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class="card-title text-md-center">Welcome!</h3> <hr> <div class=text-md-center v-if=loggingIn transition=fade> <img src='+o(22)+' class=img-rounded alt=...> <p class=content>Logging in...</p> </div> <div v-else> <form role=form v-on:submit.prevent=login> <div class=form-group> <label for=email>Email</label> <input type=email class=form-control id=email v-model=formUser.email /> </div> <div class=form-group> <label for=password>Password</label> <input type=password class=form-control id=password v-model=formUser.password /> </div> <button type=submit class="btn btn-info pull-md-right" :disabled=loggingIn>Login</button> </form> </div> </div> <div class="card-footer text-muted"> <p class="card-title text-md-right">Don\'t have an account? <button type=submit class="btn btn-outline-secondary btn-sm" v-link="\'/register\'">Sign up</button></p> </div> </div> </div> '},function(t,e,o){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class="card-title text-md-center">Thank you for using Links.app!</h3> <hr> <div class=text-md-center transition=fade> <img src='+o(22)+" class=img-rounded alt=...> <p class=content>Login out...</p> </div> </div> </div> </div> "},function(t,e){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class="card-title text-md-center">Register for an account</h3> <hr> <div class=text-md-center v-if=registering transition=fade> <img src=http://s14.postimg.org/boisrfbv1/battery.gif class=img-rounded alt=...> <p class=content>Logging in...</p> </div> <div v-else> <form role=form v-on:submit.prevent=register> <div class=form-group> <label for=email>Email</label> <input type=email class=form-control id=email placeholder=user@email.com v-model=formUser.email /> </div> <div class=row> <div class=col-md-6> <div class=form-group> <label for=password>Password</label> <input type=password class=form-control id=password placeholder=Password v-model=formUser.password /> </div> </div> <div class=col-md-6> <div class=form-group> <label for=password_confirmation>Confirm Password</label> <input type=password class=form-control id=password_confirmation placeholder=Password v-model=formUser.password_confirmation /> </div> </div> </div> <button type=submit class="btn btn-info pull-md-right" :disabled=registering>Register</button> </form> </div> </div> <div class="card-footer text-muted"> <p class="card-title text-md-right">Already have an account? <button type=submit class="btn btn-outline-secondary btn-sm" v-link="\'/login\'">Log in</button></p> </div> </div> </div> '},function(t,e){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class=card-title>New Category</h3> <form role=form v-on:submit.prevent=create> <div class=form-group> <label for=name>Name</label> <input type=text class=form-control id=name v-model=newCategory.name /> </div> <button type=submit class="btn btn-primary btn-block" :disabled=adding>Add new category</button> </form> </div> </div> </div> '},function(t,e){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class=card-title>New Link</h3> <form role=form v-on:submit.prevent=create> <div class=form-group> <label for=title>Title</label> <input type=text class=form-control id=title v-model=newLink.title :disabled=disabled /> </div> <div class=form-group> <label for=url>Url</label> <input type=text class=form-control id=url v-model=newLink.url :disabled=disabled /> </div> <div class=form-group> <label for=category>Category</label> <select class=form-control v-model=newLink.category :disabled=disabled> <option value="" selected=selected disabled=disabled>Select category...</option> <template v-for="category in categories"> <option value={{category.id}}>{{category.name}}</option> </template> </select> </div> <button type=submit class="btn btn-primary btn-block" :disabled=disabled>Add new link</button> </form> </div> </div> </div> '},function(t,e){t.exports=' <div class=row> <div class=col-md-12> <div class="card card-block" v-for="category in categories"> <h3 class=card-title> {{category.name}} <span class=add-margin-link><button @click=edit(category) type=button class="btn btn-info btn-sm"><i class="fa fa-pencil" aria-hidden=true></i></button></span> </h3> <ul v-if=category.links.data> <li v-for="link in category.links.data"> <a href={{link.url}}>{{ link.title ? link.title : link.url }}</a> </li> </ul> </div> </div> </div> '},function(t,e){t.exports=' <div class=container> <div class="header clearfix"> <nav> <ul class="nav nav-pills pull-xs-right"> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/links\'">Links</a> </li> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/create/category\'">Add Category</a> </li> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/create/link\'">Add Link</a> </li> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/logout\'">Logout</a> </li> </ul> </nav> <h3 class=text-muted>Links.app</h3> </div> </div> '},function(t,e,o){var s,r;s=o(24),r=o(67),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(25),r=o(68),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;o(46),s=o(26),r=o(69),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(27),r=o(70),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(28),r=o(71),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(29),r=o(72),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(30),r=o(73),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(31),r=o(74),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;o(47),s=o(32),r=o(75),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(33),r=o(76),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},,,function(t,e){}]);
//# sourceMappingURL=app.8d61f4a25923d398f1a5.js.map