webpackJsonp([2,0],[function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.router=void 0;var r=o(13),a=s(r),n=o(83),i=s(n),l=o(82),d=s(l),u=o(74),c=s(u),p=o(75),f=s(p),v=o(77),g=s(v),m=o(76),h=s(m),b=o(80),y=s(b),x=o(78),_=s(x),k=o(79),w=s(k),M=o(2),L=s(M);o(46),a["default"].use(d["default"]),a["default"].use(i["default"]),a["default"].http.options.xhr={withCredentials:!0},a["default"].http.interceptors.push(function(t,e){e(function(t){401===t.status&&L["default"].isLogged()&&(console.log("Error 401"),console.log("Error status :: ",t.body.error.status),console.log("Error message :: ",t.body.error.message),L["default"].logout(),a["default"].router.go("/login"))})}),L["default"].checkAuth();var P=e.router=new i["default"]({linkActiveClass:"active"});P.map({"/login":{component:f["default"]},"/register":{component:g["default"]},"/logout":{component:h["default"]},"/links":{component:y["default"],loggedInOnly:!0},"/create/category":{component:_["default"],loggedInOnly:!0},"/create/link":{component:w["default"],loggedInOnly:!0}}),P.redirect({"*":"/login"}),P.beforeEach(function(t){t.to.loggedInOnly&&!L["default"].isLogged()?t.redirect("/login"):t.next()}),P.start(c["default"],"#app")},,function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0});var a=o(49),n=r(a),i=o(13);s(i);e["default"]={user:{authenticated:!1},token:null,origin:null,login:function(t,e){this.token=t,this.user.authenticated=!0,this.origin=e,localStorage.setItem("linksapp-jwt",this.token)},logout:function(){this.token=null,this.user.authenticated=!1,this.origin=null,localStorage.removeItem("linksapp-jwt")},checkAuth:function(){var t=localStorage.getItem("linksapp-jwt");if(t){var e=n.decode(t);if(e){if(Math.floor(Date.now()/1e3)<e.payload.exp)return void(this.user.authenticated=!0);console.log("jwt expired :: ",new Date(1e3*e.payload.exp))}}this.user.authenticated=!1},isLogged:function(){return this.user.authenticated},getAuthHeader:function(){return{Authorization:"Bearer "+localStorage.getItem("linksapp-jwt")}},init:function(){}}},,,,,,function(t,e,o){var s,r;s=o(24),r=o(65),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},,,,,,function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(13),a=s(r),n=o(2),i=s(n);e["default"]={state:{categories:null},getCategories:function(){var t=this;a["default"].http.get("https://nlattessi-linksapp.herokuapp.com/user/categories",{headers:i["default"].getAuthHeader()}).then(function(e){t.state.categories=e.body.data,console.log(t.state.categories)},function(e){t.state.categories=null})}}},,,,,,,,,function(t,e,o){t.exports=o.p+"static/img/battery.2c3f8a4.gif"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["alerts"],methods:{remove:function(t){this.alerts.$remove(t)}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r),n=o(81),i=s(n);e["default"]={components:{TopNav:i["default"]},data:function(){return{user:a["default"].user}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r),n=o(8),i=s(n);e["default"]={components:{Alert:i["default"]},data:function(){return{formUser:{email:null,password:null},alerts:[],loggingIn:!1}},methods:{login:function(){var t=this;this.loggingIn=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/auth/login",this.formUser).then(function(e){a["default"].login(e.body.token,"local"),t.$dispatch("userLoggedIn"),t.$router.go("/links")},function(e){if(t.alerts=[],404===e.status||422===e.status)if(422===e.status)for(var o in e.body)e.body.hasOwnProperty(o)&&t.alerts.push({type:"danger",message:e.body[o]});else t.alerts.push({type:"danger",message:"Sorry, this credentials are invalid."});t.loggingIn=!1})}},ready:function(){a["default"].isLogged()&&console.log(a["default"].isLogged())},route:{data:function(t){},activate:function(t){a["default"].isLogged()?t.redirect("/links"):t.next()}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r);e["default"]={methods:{logout:function(){var t=this;setTimeout(function(){a["default"].logout(),t.$router.go("/login")},1e3)}},ready:function(){this.logout()}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r),n=o(8),i=s(n);e["default"]={components:{Alert:i["default"]},data:function(){return{formUser:{email:null,password:null,password_confirmation:null},alerts:[],registering:!1}},methods:{register:function(){var t=this;this.registering=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/auth/register",this.formUser).then(function(e){a["default"].login(e.body.token),t.$dispatch("userRegistered"),t.$router.go("/links")},function(e){if(t.alerts=[],422===e.status)for(var o in e.body)e.body.hasOwnProperty(o)&&t.alerts.push({type:"danger",message:e.body[o]});t.registering=!1})}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r),n=o(8),i=s(n);e["default"]={components:{Alert:i["default"]},data:function(){return{newCategory:{name:null},alerts:[],adding:!1}},methods:{create:function(){var t=this;this.adding=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/user/categories",this.newCategory,{headers:a["default"].getAuthHeader()}).then(function(e){t.$dispatch("addedCategory",e.body),t.$router.go("/links")},function(e){if(t.alerts=[],400===e.status||422===e.status)if(422===e.status)for(var o in e.body)e.body.hasOwnProperty(o)&&t.alerts.push({type:"danger",message:e.body[o]});else t.alerts.push({type:"danger",message:"Sorry, an error has been occurred."});t.adding=!1})}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r),n=o(14),i=s(n),l=o(8),d=s(l);e["default"]={components:{Alert:d["default"]},data:function(){return{newLink:{title:null,url:null},categories:null,alerts:[],adding:!1}},methods:{create:function(){var t=this;this.adding=!0,this.$http.post("https://nlattessi-linksapp.herokuapp.com/user/links",this.newLink,{headers:a["default"].getAuthHeader()}).then(function(e){t.$dispatch("addedLink",e.body),t.$router.go("/links")},function(e){if(t.alerts=[],400===e.status||422===e.status)if(422===e.status)for(var o in e.body)e.body.hasOwnProperty(o)&&t.alerts.push({type:"danger",message:e.body[o]});else t.alerts.push({type:"danger",message:"Sorry, an error has been occurred."});t.adding=!1})}},ready:function(){this.categories=i["default"].state.categories}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2),a=s(r),n=o(14),i=s(n),l=o(8),d=s(l);e["default"]={components:{Alert:d["default"]},data:function(){return{categories:[],error:"",sharedState:i["default"].state}},methods:{getCategories:function(){var t=this;this.$http.get("https://nlattessi-linksapp.herokuapp.com/user/categories",{headers:a["default"].getAuthHeader()}).then(function(e){t.categories=e.body.data},function(e){t.error=""+e.body.error.status+": "+e.body.error.message})}},ready:function(){this.getCategories(),i["default"].getCategories(),console.log(this.sharedState)},route:{canActivate:function(){return a["default"].isLogged()}}}},function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=o(2);s(r);e["default"]={props:["user"]}},,,,,,,,,,,,,function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,function(t,e){t.exports=' <div v-for="alert in alerts" transition=fade transition-mode=out-in> <div class="alert alert-{{ alert.type }} alert-dismissible fade in" role=alert> <button type=button class=close data-dismiss=alert aria-label=Close v-on:click=remove(alert)> <span aria-hidden=true>&times;</span> </button> {{ alert.message }} </div> </div> '},function(t,e){t.exports=" <div> <top-nav :user.sync=user></top-nav> <div class=container> <router-view transition=fade transition-mode=out-in></router-view> </div> </div> "},function(t,e,o){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class="card-title text-md-center">Welcome!</h3> <hr> <alert :alerts.sync=alerts></alert> <div class=text-md-center v-if=loggingIn transition=fade> <img src='+o(23)+' class=img-rounded alt=...> <p class=content>Logging in...</p> </div> <div v-else> <form role=form v-on:submit.prevent=login> <div class=form-group> <label for=email>Email</label> <input type=email class=form-control id=email v-model=formUser.email /> </div> <div class=form-group> <label for=password>Password</label> <input type=password class=form-control id=password v-model=formUser.password /> </div> <button type=submit class="btn btn-info pull-md-right" :disabled=loggingIn>Login</button> </form> </div> </div> <div class="card-footer text-muted"> <p class="card-title text-md-right">Don\'t have an account? <button type=submit class="btn btn-outline-secondary btn-sm" v-link="\'/register\'">Sign up</button></p> </div> </div> </div> '},function(t,e,o){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class="card-title text-md-center">Thank you for using Links.app!</h3> <hr> <div class=text-md-center transition=fade> <img src='+o(23)+" class=img-rounded alt=...> <p class=content>Login out...</p> </div> </div> </div> </div> "},function(t,e){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class="card-title text-md-center">Register for an account</h3> <hr> <alert :alerts.sync=alerts></alert> <div class=text-md-center v-if=registering transition=fade> <img src=http://s14.postimg.org/boisrfbv1/battery.gif class=img-rounded alt=...> <p class=content>Logging in...</p> </div> <div v-else> <form role=form v-on:submit.prevent=register> <div class=form-group> <label for=email>Email</label> <input type=email class=form-control id=email placeholder=user@email.com v-model=formUser.email /> </div> <div class=row> <div class=col-md-6> <div class=form-group> <label for=password>Password</label> <input type=password class=form-control id=password placeholder=Password v-model=formUser.password /> </div> </div> <div class=col-md-6> <div class=form-group> <label for=password_confirmation>Confirm Password</label> <input type=password class=form-control id=password_confirmation placeholder=Password v-model=formUser.password_confirmation /> </div> </div> </div> <button type=submit class="btn btn-info pull-md-right" :disabled=registering>Register</button> </form> </div> </div> <div class="card-footer text-muted"> <p class="card-title text-md-right">Already have an account? <button type=submit class="btn btn-outline-secondary btn-sm" v-link="\'/login\'">Log in</button></p> </div> </div> </div> '},function(t,e){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class=card-title>New Category</h3> <form role=form v-on:submit.prevent=create> <alert :alerts.sync=alerts></alert> <div class=form-group> <label for=name>Name</label> <input type=text class=form-control id=name v-model=newCategory.name /> </div> <button type=submit class="btn btn-primary btn-block" :disabled=adding>Add new category</button> </form> </div> </div> </div> '},function(t,e){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class=card-title>New Link</h3> <form role=form v-on:submit.prevent=create> <alert :alerts.sync=alerts></alert> <div class=form-group> <label for=title>Title</label> <input type=text class=form-control id=title v-model=newLink.title /> </div> <div class=form-group> <label for=url>Url</label> <input type=text class=form-control id=url v-model=newLink.url /> </div> <button type=submit class="btn btn-primary btn-block" :disabled=adding>Add new link</button> </form> </div> </div> </div> '},function(t,e){t.exports=' <div class=row> <div class="col-md-8 offset-md-2"> <div class="card card-block"> <h3 class="card-title text-md-center">Links</h3> <hr> <alert :alerts.sync=alerts></alert> <div class=text-md-center> <p class=content>Placeholder</p> </div> </div> </div> </div> '},function(t,e){t.exports=' <div class=container> <div class="header clearfix"> <nav> <ul class="nav nav-pills pull-xs-right"> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/links\'">Links</a> </li> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/create/category\'">Add Category</a> </li> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/create/link\'">Add Link</a> </li> <li class=nav-item v-if=user.authenticated> <a class=nav-link v-link="\'/logout\'">Logout</a> </li> </ul> </nav> <h3 class=text-muted>Links.app</h3> </div> </div> '},function(t,e,o){var s,r;o(45),s=o(25),r=o(66),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(26),r=o(67),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(27),r=o(68),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(28),r=o(69),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(29),r=o(70),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(30),r=o(71),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(31),r=o(72),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,o){var s,r;s=o(32),r=o(73),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},,,function(t,e){}]);
//# sourceMappingURL=app.26d90bffef82a5bdb165.js.map